<div
  class="bg-white min-h-[165px] md:min-h-[150px] rounded-md shadow-md/20 flex flex-col cursor-pointer hover:bg-gray-50"
  (click)="openCardModal()"
>
  <div class="flex gap-2 p-2 items-start flex-1 relative">
    <div class="flex gap-2 flex-1 justify-between">

        <div class="flex flex-col justify-between gap-1 md:gap-0 md:flex-row items-start flex-1">
            <!-- Bloc Aller -->
            <div class="flex flex-row md:flex-col gap-x-2 w-6/7 md:w-2/5">
              <p class="font-medium text-xl">{{startTime()}}</p>
              <div>
                <p class="text-lg">{{startCity()}}</p>
                <p class="font-light">{{startPlace()}}</p>
              </div> 
            </div>

            <!-- Bloc temps -->
            <div class="self-start flex items-center justify-center md:flex-col">
              <img src="assets/icons/fleche grd.svg" class="hidden md:block -mb-4" />
              <p class="font-light text-xs">{{hours()}}</p>
              <img src="assets/icons/fleche.svg" class="md:hidden" />
              <p class="font-light text-xs">{{distances()}}</p>
            </div>

            <!-- Bloc Retour -->
            <div class="flex flex-row md:flex-col gap-x-2 w-6/7 md:w-2/5">
              <p class="font-medium text-xl">{{arrivalTime()}}</p>
              <div>
                <p class="text-lg">{{arrivalCity()}}</p>
                <p class="font-light">{{arrivalPlace()}}</p>
              </div>
            </div>
        </div>

      <!-- Bloc CO² -->
      <div class="md:flex flex-col justify-between items-end hidden ml-1">
        <img
          src="assets/icons/add-circle-svgrepo-com 1.svg"
          class="w-8 md:w-10"
        />
        <p class="text-light text-sm text-gray-400 self-end">{{pollution()}}g CO²</p>
      </div>
    </div>

    <img
      src="assets/icons/add-circle-svgrepo-com 1.svg"
      class="absolute right-2 md:hidden"
    />
  </div>

  <div class="flex bg-green p-1 px-4 items-center justify-between">
    <div class="flex items-center gap-2">
      @if (car()?.type == 'VOITURE_SERVICE') {
        <img src="assets/images/VS.svg" class="h-10" />
      }
      @else {
        <img src="assets/images/covoit.svg" class="h-10" />
      }
      <img src="assets/icons/avatar.svg" alt="avatar" class="h-8 pl-6" />
      <p>{{organizer()}}</p>
    </div>
    <p class="md:hidden w-9 text-end">{{places()}} pl.</p>
    <p class="hidden md:block">{{places()}} pl. restantes</p>
  </div>
</div>

<!-- MODAL -->
<app-carpooling-details-modal
  #carpoolingDetailsModal
  [tripDetails]="trip()"
  [organizer]= organizer()
></app-carpooling-details-modal>
