<div
  class="flex-1 bg-[url('/assets/images/background.svg')] bg-cover bg-left bg-no-repeat flex items-center justify-center p-4 sm:p-6"
>
  <div class="bg-white rounded-lg shadow-xl w-full max-w-lg">
    <div class="p-6 sm:p-8 max-h-[90vh] overflow-y-auto font-medium">
      <form
        [formGroup]="loginForm"
        (ngSubmit)="onSubmit()"
        class="flex flex-col gap-6"
        novalidate
      >
        <h1 class="text-2xl font-bold text-center">Connexion</h1>

        @if (errorMessage) {
        <div
          class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded text-center"
        >
          {{ errorMessage }}
        </div>
        }

        <!-- Champ Email -->
        <div>
          <label for="mail" class="block mb-1">Adresse e-mail :</label>
          <input
            id="mail"
            type="email"
            formControlName="mail"
            class="input-large w-full"
            [class.border-red-500]="isFieldInvalid('mail')"
            autocomplete="email"
          />
          @if (isFieldInvalid('mail')) {
          <div class="text-red-500 text-sm mt-1">
            {{ getFieldError('mail') }}
          </div>
          }
        </div>

        <!-- Champ Mot de passe -->
        <div>
          <div class="flex justify-between items-center mb-1">
            <label for="motDePasse">Mot de passe :</label>
            <a
              href="#"
              class="text-sm text-[var(--color-green)] hover:underline"
              >Mot de passe oubli√© ?</a
            >
          </div>
          <input
            id="motDePasse"
            type="password"
            formControlName="motDePasse"
            class="input-large w-full"
            [class.border-red-500]="isFieldInvalid('motDePasse')"
            autocomplete="current-password"
          />
          @if (isFieldInvalid('motDePasse')) {
          <div class="text-red-500 text-sm mt-1">
            {{ getFieldError("motDePasse") }}
          </div>
          }
        </div>

        <button
          type="submit"
          class="btn-modal self-center mt-4 disabled:cursor-not-allowed"
          [disabled]="loginForm.invalid || isLoading"
          [class.opacity-50]="loginForm.invalid || isLoading"
        >
          @if (isLoading) {
          <span>Connexion...</span>
          } @else {
          <span>Se connecter</span>
          }
        </button>

        <div class="text-center text-sm">
          <span>Pas encore de compte ?</span>
          <a
            routerLink="/auth/register"
            class="font-semibold text-[var(--color-green)] cursor-pointer hover:underline ml-1"
            >Inscrivez-vous</a
          >
        </div>
      </form>
    </div>
  </div>
</div>